# RestaurantApp
#  Backend - Εφαρμογή Κρατήσεων Εστιατορίων

Αυτό το backend υποστηρίζει μια εφαρμογή κρατήσεων για εστιατόρια. Οι χρήστες μπορούν να δημιουργούν λογαριασμό,
να συνδέονται και να πραγματοποιούν κρατήσεις σε εστιατόρια. 
Παρέχεται επίσης λειτουργικότητα για την προβολή όλων των διαθέσιμων εστιατορίων.

---

Οδηγίες Εγκατάστασης

1. Εγκατάσταση εξαρτήσεων:


npm install express cors dotenv mysql2 bcryptjs jsonwebtoken
npm install --save-dev nodemon

---

2. Δημιουργία αρχείου περιβάλλοντος `.env`:

```env
PORT=3000
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=1234
DB_NAME=restaurant_app
JWT_SECRET=mysecretkey
```
---

3. Ρύθμιση βάσης δεδομένων MySQL:
- Δημιουργήστε μια βάση με όνομα `restaurant_app`
- Δημιουργήστε τους πίνακες `users`, `restaurants` και `reservations` σύμφωνα με το schema που χρησιμοποιείται από τον κώδικα.

---

4. Εκκίνηση του server:

```CMD
npm run dev
```

> Η εντολή αυτή χρησιμοποιεί το `nodemon` ώστε να επανεκκινεί αυτόματα τον server σε κάθε αλλαγή αρχείου.

---

Περιγραφή Λειτουργικότητας

Διαχείριση Χρηστών & Αυθεντικοποίηση

- **POST** `/api/register` → Εγγραφή χρήστη
- **POST** `/api/login` → Σύνδεση χρήστη και επιστροφή JWT token

---

Διαχείριση Κρατήσεων

- **POST** `/api/reservations` → Δημιουργία κράτησης
- **GET** `/api/reservations/my` → Ανάκτηση κρατήσεων του χρήστη
- **GET** `/api/reservations/:id` → Εμφάνιση συγκεκριμένης κράτησης
- **PUT** `/api/reservations/:id` → Ενημέρωση κράτησης
- **DELETE** `/api/reservations/:id` → Διαγραφή κράτησης

> Όλες οι παραπάνω ενέργειες απαιτούν έλεγχο ταυτότητας μέσω JWT.

Προβολή Εστιατορίων

- **GET** `/api/restaurants` → Προβολή όλων των διαθέσιμων εστιατορίων  
> Η συγκεκριμένη λειτουργία είναι ανοιχτή σε όλους τους χρήστες (δεν απαιτείται token).

---

CORS

Το backend υποστηρίζει αιτήματα από διαφορετικό origin μέσω της χρήσης του πακέτου `cors`. 
Έτσι, μπορεί να επικοινωνεί με frontend εφαρμογές που τρέχουν σε διαφορετικό port.

---

Ασφάλεια

Για τις προστατευμένες διαδρομές, είναι απαραίτητο να αποστέλλεται το JWT token:

```http
Authorization: Bearer <token>
```

---

Τεχνολογίες που χρησιμοποιήθηκαν

- **express** για δημιουργία REST API
- **cors** για διαχείριση αιτημάτων από διαφορετικά origins
- **dotenv** για χρήση μεταβλητών περιβάλλοντος
- **mysql2** για σύνδεση με MySQL βάση δεδομένων
- **bcryptjs** για hash κωδικών
- **jsonwebtoken** για authentication
- **nodemon** (dev only) για αυτόματη επανεκκίνηση του server

#  Frontend - Εφαρμογή Κρατήσεων Εστιατορίων (React Native + Expo)


Οδηγίες Εγκατάστασης

1. **Προαπαιτούμενα:**

- Node.js
- Expo CLI:
```cmd
npm install -g expo-cli
```

2. **Εγκατάσταση εξαρτήσεων:**

```cmd
npm install
```

3. **Εκκίνηση εφαρμογής:**

```cmd
npx expo start
```

Σάρωσε το QR code από φυσική συσκευή μέσω του Expo Go app ή τρέξε σε emulator.

---

Ρυθμίσεις API

Η εφαρμογή επικοινωνεί με backend μέσω `axios`. Βεβαιώσου ότι στο αρχείο **LoginScreen.js**, **RegisterScreen.js** η IP που χρησιμοποιείται είναι σωστή.

```js
const API_URL = 'http://<η-τοπική-σου-IP>:3000/api';
```

Αν το backend τρέχει σε τοπικό server (π.χ. localhost:3000), χρησιμοποίησε την **τοπική IP** της συσκευής σου, όπως `192.168.x.x`.

---

Περιγραφή Λειτουργιών

- **Εγγραφή Χρήστη**
- **Σύνδεση με JWT**
- **Κεντρικό μενού (HomeMenu)**
- **Νέα κράτηση** σε επιλεγμένο εστιατόριο
- **Προβολή κρατήσεων** ανά χρήστη
- **Ενημέρωση / Διαγραφή κράτησης**
- **Αποσύνδεση (Logout)** με καθαρισμό token

---

Χρησιμοποιούμενες Τεχνολογίες

- **React Native** (μέσω Expo)
- **Expo Router & Navigation**
- **axios** για επικοινωνία με backend
- **AsyncStorage** για αποθήκευση JWT token
- **React Native Picker & DateTimePicker**
- **React Navigation v6**

---
